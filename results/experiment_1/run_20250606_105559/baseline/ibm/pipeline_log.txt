Starting Baseline Pipeline for source: ibm at 2025-06-06T10:55:59.240290
Output Directory: results/experiment_1/run_20250606_105559/baseline/ibm
Evaluate Only: False
Reference Artifacts Directory: None

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/01_data_acquirer.py --input_file /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/../data/ibm_dataset.csv --output_file results/experiment_1/run_20250606_105559/baseline/ibm/01_ibm_acquired_data.csv
--- Starting Step 1: Data Loading ---
Loading data from /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/../data/ibm_dataset.csv...
Initial dataset shape: (1470, 35)
Checking for missing values...
0
Checking for duplicate rows...
0
Saving data to results/experiment_1/run_20250606_105559/baseline/ibm/01_ibm_acquired_data.csv...
--- Finished Step 1: Data Loading ---
Finished with exit code: 0

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/02a_preprocessorIBM.py --input_file results/experiment_1/run_20250606_105559/baseline/ibm/01_ibm_acquired_data.csv --output_file results/experiment_1/run_20250606_105559/baseline/ibm/02_ibm_preprocessed_data.csv
--- Starting Step 2: Pre-processing IBM dataset ---
Input file: results/experiment_1/run_20250606_105559/baseline/ibm/01_ibm_acquired_data.csv
Output file: results/experiment_1/run_20250606_105559/baseline/ibm/02_ibm_preprocessed_data.csv
Preprocessor artifact path: artifacts/IBM_preprocessor.pkl
Loading data from results/experiment_1/run_20250606_105559/baseline/ibm/01_ibm_acquired_data.csv...
Removed columns: ['YearsWithCurrManager', 'TrainingTimesLastYear', 'StockOptionLevel', 'StandardHours', 'RelationshipSatisfaction', 'PercentSalaryHike', 'Over18', 'NumCompaniesWorked', 'MonthlyRate', 'HourlyRate', 'EmployeeCount', 'EducationField', 'Education', 'DailyRate', 'BusinessTravel', 'JobRole']
Replaced 'Research & Development' with 'Other' in 'Department' column.
Numerical features (14): ['Age', 'DistanceFromHome', 'EmployeeNumber', 'EnvironmentSatisfaction', 'JobInvolvement', 'JobLevel', 'JobSatisfaction', 'MonthlyIncome', 'PerformanceRating', 'TotalWorkingYears', 'WorkLifeBalance', 'YearsAtCompany', 'YearsInCurrentRole', 'YearsSinceLastPromotion']
Categorical features (4): ['Department', 'Gender', 'MaritalStatus', 'OverTime']
Checking for missing values... 0
Categorized 'MonthlyIncome' into 10 bins (1-10).
Saving data to results/experiment_1/run_20250606_105559/baseline/ibm/02_ibm_preprocessed_data.csv...
Processed data shape: (1470, 18)
Processed data saved to: results/experiment_1/run_20250606_105559/baseline/ibm/02_ibm_preprocessed_data.csv
Saving data to results/experiment_1/run_20250606_105559/baseline/ibm/02_ibm_preprocessed_data.csv...
Final processed data saved to: results/experiment_1/run_20250606_105559/baseline/ibm/02_ibm_preprocessed_data.csv
--- Finished Step 2: Pre-processing ---
Finished with exit code: 0

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/03_feature_engineer.py --input_file results/experiment_1/run_20250606_105559/baseline/ibm/02_ibm_preprocessed_data.csv --output_file results/experiment_1/run_20250606_105559/baseline/ibm/03_ibm_engineered_features.csv --feature_selector_path results/experiment_1/run_20250606_105559/baseline/ibm/artifacts/feature_selector.pkl --expected_cols_path results/experiment_1/run_20250606_105559/baseline/ibm/artifacts/expected_cols.json
--- Starting Step 3: Feature Engineering ---
Loading data from results/experiment_1/run_20250606_105559/baseline/ibm/02_ibm_preprocessed_data.csv...
One-hot encoding categorical columns: ['Department', 'Gender', 'MaritalStatus', 'OverTime']
Shape after one-hot encoding: (1470, 24)
Handling column standardization. Training mode for expected_cols.json: True.
Current feature columns (post-OHE) saved to results/experiment_1/run_20250606_105559/baseline/ibm/artifacts/expected_cols.json.
Shape after handle_missing_columns: (1470, 24)
Creating new features...
PCA explained variance ratio: [0.25968146 0.12560434 0.07704041]
Shape after create_new_features: (1470, 29)
Saving data to results/experiment_1/run_20250606_105559/baseline/ibm/03_ibm_engineered_features.csv...
Engineered data shape: (1470, 30)
--- Finished Step 3: Feature Engineering ---
Finished with exit code: 0

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/04_model_trainer.py --input_file results/experiment_1/run_20250606_105559/baseline/ibm/03_ibm_engineered_features.csv --output_dir results/experiment_1/run_20250606_105559/baseline/ibm/artifacts
Loading data from: results/experiment_1/run_20250606_105559/baseline/ibm/03_ibm_engineered_features.csv
Saving artifacts to: results/experiment_1/run_20250606_105559/baseline/ibm/artifacts
Calculated scale_pos_weight: 5.211267605633803

Applying SMOTE to balance classes in training data...
Original class distribution in training data: [998 192]
Class distribution after SMOTE: [998 998]
Fitting 5 folds for each of 300 candidates, totalling 1500 fits
/Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/.venv/lib/python3.11/site-packages/xgboost/sklearn.py:1395: UserWarning: `use_label_encoder` is deprecated in 1.7.0.
  warnings.warn("`use_label_encoder` is deprecated in 1.7.0.")
/Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/.venv/lib/python3.11/site-packages/xgboost/sklearn.py:835: UserWarning: `early_stopping_rounds` in `fit` method is deprecated for better compatibility with scikit-learn, use `early_stopping_rounds` in constructor or`set_params` instead.
  warnings.warn(
Best hyperparameters found:
{'colsample_bytree': 0.5100131779629122, 'gamma': 0.7371802250072431, 'learning_rate': 0.24057994143655254, 'max_depth': 3, 'min_child_weight': 9, 'n_estimators': 385, 'reg_alpha': 0.5209579772720422, 'reg_lambda': 0.6235856880027597, 'subsample': 0.5445622160580084}
Best CV F1: 0.4921

Calculating performance metrics across data splits...
Training metrics:
  Accuracy:  0.8782
  Precision: 0.8852
  Recall:    0.2812
  F1-Score:  0.4269
  AUC:       0.8675
Validation metrics:
  Accuracy:  0.8496
  Precision: 0.6667
  Recall:    0.0952
  F1-Score:  0.1667
  AUC:       0.6633
Train+Validation metrics:
  Accuracy:  0.8753
  Precision: 0.8750
  Recall:    0.2629
  F1-Score:  0.4043
  AUC:       0.8478
Test (hold-out) metrics:
  Accuracy:  0.8367
  Precision: 0.5000
  Recall:    0.0833
  F1-Score:  0.1429
  AUC:       0.7669

Training and validation metrics saved to results/experiment_1/run_20250606_105559/baseline/ibm/artifacts/training_metrics.json
Model training complete. Artifacts saved under 'results/experiment_1/run_20250606_105559/baseline/ibm/artifacts'.
Finished with exit code: 0

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/05_model_evaluator.py --input_file results/experiment_1/run_20250606_105559/baseline/ibm/03_ibm_engineered_features.csv --model_path results/experiment_1/run_20250606_105559/baseline/ibm/artifacts/model.pkl --output_dir results/experiment_1/run_20250606_105559/baseline/ibm
Loading data from: results/experiment_1/run_20250606_105559/baseline/ibm/03_ibm_engineered_features.csv
Splitting data into train/test to isolate the hold-out test set...
Test set shape: X_test (147, 28), y_test (147,)
Loading scaler from: results/experiment_1/run_20250606_105559/baseline/ibm/artifacts/scaler.pkl
Applying scaling to numeric columns: ['Age', 'DistanceFromHome', 'EnvironmentSatisfaction', 'JobInvolvement', 'JobLevel', 'JobSatisfaction', 'MonthlyIncome', 'PerformanceRating', 'TotalWorkingYears', 'WorkLifeBalance', 'YearsAtCompany', 'YearsInCurrentRole', 'YearsSinceLastPromotion', 'StagnationScore', 'TenureRatio', 'PCA1', 'PCA2', 'PCA3']
Loading model from: results/experiment_1/run_20250606_105559/baseline/ibm/artifacts/model.pkl
Computing point estimates...
Point estimates on the hold-out test set:
  AUC:       0.7461
  Accuracy:  0.8435
  Precision: 0.5556
  Recall:    0.2083
  F1‐Score:  0.3030

Computing fairness metrics...
  Demographic Parity Difference (Gender): 0.0336
  Equalized Odds Difference (Gender):     0.1556
  Demographic Parity Difference (Age Binned): 0.2333
  Equalized Odds Difference (Age Binned):     0.4286

Computing bootstrap confidence intervals...

95% Bootstrap confidence intervals (n_boot=1000):
  AUC CI:       [0.6381, 0.8456]
  Accuracy CI:  [0.7889, 0.8980]
  Precision CI: [0.2222, 0.8889]
  Recall CI:    [0.0625, 0.3913]
  F1‐Score CI:  [0.0999, 0.5000]

Evaluation summary saved to: results/experiment_1/run_20250606_105559/baseline/ibm/evaluation_summary.json

Model Performance Metrics:
+-----------+------------------+----------------+----------------+
| Metric    |   Point Estimate |   95% CI Lower |   95% CI Upper |
+===========+==================+================+================+
| AUC       |           0.7461 |         0.6381 |         0.8456 |
+-----------+------------------+----------------+----------------+
| Accuracy  |           0.8435 |         0.7889 |         0.898  |
+-----------+------------------+----------------+----------------+
| Precision |           0.5556 |         0.2222 |         0.8889 |
+-----------+------------------+----------------+----------------+
| Recall    |           0.2083 |         0.0625 |         0.3913 |
+-----------+------------------+----------------+----------------+
| F1-Score  |           0.303  |         0.0999 |         0.5    |
+-----------+------------------+----------------+----------------+

Fairness Metrics:
+---------------------+-------------------------------+---------+
| Sensitive Feature   | Metric                        |   Value |
+=====================+===============================+=========+
| Gender              | Demographic Parity Difference |  0.0336 |
+---------------------+-------------------------------+---------+
| Gender              | Equalized Odds Difference     |  0.1556 |
+---------------------+-------------------------------+---------+
| Age (Binned)        | Demographic Parity Difference |  0.2333 |
+---------------------+-------------------------------+---------+
| Age (Binned)        | Equalized Odds Difference     |  0.4286 |
+---------------------+-------------------------------+---------+
--- Finished Step 5: Model Evaluation ---
Finished with exit code: 0


Pipeline finished at 2025-06-06T10:58:34.563920
Total pipeline duration: 0 days 00:02:35.323630
Resource usage logged to: results/experiment_1/run_20250606_105559/baseline/ibm/resource_usage.csv
