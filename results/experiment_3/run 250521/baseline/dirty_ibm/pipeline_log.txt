Starting Baseline Pipeline for source: dirty_ibm at 2025-05-21 17:25:01.185711
Output Directory: results/experiment_3/baseline/dirty_ibm
Evaluate Only: True
Reference Artifacts Directory: results/experiment_1/baseline/ibm

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/01_data_acquirer.py --input_file /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/../data/ibm_dataset_dirty.csv --output_file results/experiment_3/baseline/dirty_ibm/01_dirty_ibm_acquired_data.csv
--- Starting Step 1: Data Loading ---
Loading data from /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/../data/ibm_dataset_dirty.csv...
Initial dataset shape: (1470, 35)
Checking for missing values...
73
Checking for duplicate rows...
0
Saving data to results/experiment_3/baseline/dirty_ibm/01_dirty_ibm_acquired_data.csv...
--- Finished Step 1: Data Loading ---
Finished with exit code: 0

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/02a_preprocessorIBM.py --input_file results/experiment_3/baseline/dirty_ibm/01_dirty_ibm_acquired_data.csv --output_file results/experiment_3/baseline/dirty_ibm/02_dirty_ibm_preprocessed_data.csv
--- Starting Step 2: Pre-processing IBM dataset ---
Input file: results/experiment_3/baseline/dirty_ibm/01_dirty_ibm_acquired_data.csv
Output file: results/experiment_3/baseline/dirty_ibm/02_dirty_ibm_preprocessed_data.csv
Preprocessor artifact path: artifacts/IBM_preprocessor.pkl
Loading data from results/experiment_3/baseline/dirty_ibm/01_dirty_ibm_acquired_data.csv...
Removed columns: ['YearsWithCurrManager', 'TrainingTimesLastYear', 'StockOptionLevel', 'StandardHours', 'RelationshipSatisfaction', 'PercentSalaryHike', 'Over18', 'NumCompaniesWorked', 'MonthlyRate', 'HourlyRate', 'EmployeeCount', 'EducationField', 'Education', 'DailyRate', 'BusinessTravel', 'JobRole']
Replaced 'Research & Development' with 'Other' in 'Department' column.
Numerical features (14): ['Age', 'DistanceFromHome', 'EmployeeNumber', 'EnvironmentSatisfaction', 'JobInvolvement', 'JobLevel', 'JobSatisfaction', 'MonthlyIncome', 'PerformanceRating', 'TotalWorkingYears', 'WorkLifeBalance', 'YearsAtCompany', 'YearsInCurrentRole', 'YearsSinceLastPromotion']
Categorical features (4): ['Department', 'Gender', 'MaritalStatus', 'OverTime']
Checking for missing values... 73
Filled 0 missing values in 'MonthlyIncome' with median: 4941.0
Categorized 'MonthlyIncome' into 10 bins (1-10).
Saving data to results/experiment_3/baseline/dirty_ibm/02_dirty_ibm_preprocessed_data.csv...
Processed data shape: (1470, 18)
Processed data saved to: results/experiment_3/baseline/dirty_ibm/02_dirty_ibm_preprocessed_data.csv
Saving data to results/experiment_3/baseline/dirty_ibm/02_dirty_ibm_preprocessed_data.csv...
Final processed data saved to: results/experiment_3/baseline/dirty_ibm/02_dirty_ibm_preprocessed_data.csv
--- Finished Step 2: Pre-processing ---
Finished with exit code: 0

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/03_feature_engineer.py --input_file results/experiment_3/baseline/dirty_ibm/02_dirty_ibm_preprocessed_data.csv --output_file results/experiment_3/baseline/dirty_ibm/03_dirty_ibm_engineered_features.csv --feature_selector_path results/experiment_1/baseline/ibm/artifacts/feature_selector.pkl --expected_cols_path results/experiment_1/baseline/ibm/artifacts/expected_cols.json --apply_only
--- Starting Step 3: Feature Engineering ---
Loading data from results/experiment_3/baseline/dirty_ibm/02_dirty_ibm_preprocessed_data.csv...
One-hot encoding categorical columns: ['Department', 'Gender', 'MaritalStatus', 'OverTime']
Shape after one-hot encoding: (1470, 24)
Handling column standardization. Training mode for expected_cols.json: False
Loaded expected columns (post-OHE) from results/experiment_1/baseline/ibm/artifacts/expected_cols.json
Columns aligned. Original shape: (1470, 24), Aligned shape: (1470, 24)
Shape after handle_missing_columns: (1470, 24)
Creating new features...
PCA explained variance ratio: [0.24251439 0.13327536 0.08814956]
Shape after create_new_features: (1470, 38)
Loading and applying feature selector from: results/experiment_1/baseline/ibm/artifacts/feature_selector.pkl
Loading object from results/experiment_1/baseline/ibm/artifacts/feature_selector.pkl...
Applied feature selector. New X shape: (1470, 20). Selected columns: ['Age', 'EnvironmentSatisfaction', 'JobInvolvement', 'JobLevel', 'JobSatisfaction', 'MonthlyIncome', 'TotalWorkingYears', 'YearsAtCompany', 'YearsInCurrentRole', 'MaritalStatus_Single', 'OverTime_No', 'OverTime_Yes', 'CompensationSatisfaction', 'ExperienceRatio', 'CommuteSatisfactionRatio', 'StagnationScore', 'SatisfactionIndex', 'JobSatisfaction_WorkLifeBalance', 'PCA1', 'PCA2']
Saving data to results/experiment_3/baseline/dirty_ibm/03_dirty_ibm_engineered_features.csv...
Engineered data shape: (1470, 21)
--- Finished Step 3: Feature Engineering ---
Finished with exit code: 0

Executing: python /Users/baueteeling/Library/CloudStorage/OneDrive-Personal/ONEDRIVE/STUDIE/THESIS/AttritionMLOps/scripts/05_model_evaluator.py --input_file results/experiment_3/baseline/dirty_ibm/03_dirty_ibm_engineered_features.csv --model_path results/experiment_3/baseline/dirty_ibm/artifacts/model.pkl --output_dir results/experiment_3/baseline/dirty_ibm
Test set shape: (1470, 20)
Target distribution in test set:
Attrition
0    0.838776
1    0.161224
Name: proportion, dtype: float64
Calculated Metrics:
  Accuracy: 0.9326530612244898
  Precision (Weighted): 0.9308981351161155
  Recall (Weighted): 0.9326530612244898
  F1 Score (Weighted): 0.9283302754044443
  ROC AUC: 0.9634728510271336
  Classification Report:
{
  "0": {
    "precision": 0.9375,
    "recall": 0.9854014598540146,
    "f1-score": 0.9608540925266904,
    "support": 1233.0
  },
  "1": {
    "precision": 0.896551724137931,
    "recall": 0.6582278481012658,
    "f1-score": 0.759124087591241,
    "support": 237.0
  },
  "accuracy": 0.9326530612244898,
  "macro avg": {
    "precision": 0.9170258620689655,
    "recall": 0.8218146539776402,
    "f1-score": 0.8599890900589657,
    "support": 1470.0
  },
  "weighted avg": {
    "precision": 0.9308981351161155,
    "recall": 0.9326530612244898,
    "f1-score": 0.9283302754044443,
    "support": 1470.0
  }
}
  F1 Score: 0.9283302754044443
Evaluation summary saved to results/experiment_3/baseline/dirty_ibm/evaluation_summary.json
Finished with exit code: 0


Pipeline finished at 2025-05-21 17:25:03.701336
